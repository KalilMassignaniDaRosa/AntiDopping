<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Antidoping - CBF</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>üèÜ Sistema de Controle Antidoping - CBF</h1>
                <nav>
                    <ul>
                        <li><a href="#dashboard" class="nav-link active" data-page="dashboard">Dashboard</a></li>
                        <li><a href="#atletas" class="nav-link" data-page="athletes">Atletas</a></li>
                        <li><a href="#testes" class="nav-link" data-page="tests">Testes</a></li>
                        <li><a href="#relatorios" class="nav-link" data-page="reports">Relat√≥rios</a></li>
                        <li><a href="#laboratorios" class="nav-link" data-page="laboratories">Laborat√≥rios</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <main>
            <!-- Dashboard -->
            <div id="dashboard-page" class="page active">
                <div class="page-header">
                    <h2>üìä Dashboard</h2>
                    <p>Vis√£o geral do sistema de controle antidoping</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-info">
                            <h3>Total de Atletas</h3>
                            <div id="total-athletes" class="stat-number">-</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üß™</div>
                        <div class="stat-info">
                            <h3>Testes Realizados</h3>
                            <div id="total-tests" class="stat-number">-</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è≥</div>
                        <div class="stat-info">
                            <h3>Testes Pendentes</h3>
                            <div id="pending-tests" class="stat-number">-</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚ö†Ô∏è</div>
                        <div class="stat-info">
                            <h3>Resultados Positivos</h3>
                            <div id="positive-tests" class="stat-number">-</div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <div class="recent-activity">
                        <h3>üìã Atividade Recente</h3>
                        <div id="recent-tests" class="activity-list">
                            <div class="loading">Carregando atividades recentes...</div>
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <h3>‚ö° A√ß√µes R√°pidas</h3>
                        <div class="actions-grid">
                            <button class="action-btn" onclick="system.showAthleteModal()">
                                <span class="action-icon">‚ûï</span>
                                <span>Novo Atleta</span>
                            </button>
                            <button class="action-btn" onclick="system.showTestModal()">
                                <span class="action-icon">üß™</span>
                                <span>Registrar Teste</span>
                            </button>
                            <button class="action-btn" onclick="system.showPage('reports')">
                                <span class="action-icon">üìà</span>
                                <span>Ver Relat√≥rios</span>
                            </button>
                            <button class="action-btn" onclick="system.loadDashboard()">
                                <span class="action-icon">üîÑ</span>
                                <span>Atualizar Dados</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Atletas -->
            <div id="athletes-page" class="page">
                <div class="page-header">
                    <h2>üë• Gerenciamento de Atletas</h2>
                    <p>Cadastre e gerencie atletas no sistema</p>
                </div>
                
                <div class="toolbar">
                    <button id="add-athlete-btn" class="btn btn-primary" onclick="system.showAthleteModal()">
                        <span>‚ûï Novo Atleta</span>
                    </button>
                    <div class="search-box">
                        <input type="text" id="search-athlete" placeholder="üîç Buscar atleta por nome, CPF ou registro...">
                    </div>
                </div>
                
                <div id="athletes-list" class="data-container">
                    <div class="loading">Carregando lista de atletas...</div>
                </div>
            </div>

            <!-- Testes -->
            <div id="tests-page" class="page">
                <div class="page-header">
                    <h2>üß™ Testes Antidoping</h2>
                    <p>Registre e acompanhe testes antidoping</p>
                </div>
                
                <div class="toolbar">
                    <button id="register-test-btn" class="btn btn-primary" onclick="system.showTestModal()">
                        <span>üß™ Registrar Teste</span>
                    </button>
                    <select id="test-filter" onchange="system.loadTests()">
                        <option value="">Todos os Status</option>
                        <option value="pending">Pendentes</option>
                        <option value="completed">Conclu√≠dos</option>
                        <option value="in_progress">Em An√°lise</option>
                    </select>
                    <select id="test-type-filter" onchange="system.loadTests()">
                        <option value="">Todos os Tipos</option>
                        <option value="blood">Sangue</option>
                        <option value="urine">Urina</option>
                        <option value="both">Ambos</option>
                    </select>
                </div>
                
                <div id="tests-list" class="data-container">
                    <div class="loading">Carregando lista de testes...</div>
                </div>
            </div>

            <!-- Relat√≥rios -->
            <div id="reports-page" class="page">
                <div class="page-header">
                    <h2>üìà Relat√≥rios e Estat√≠sticas</h2>
                    <p>Gere relat√≥rios detalhados do sistema</p>
                </div>
                
                <div class="report-filters">
                    <div class="filter-group">
                        <label for="start-date">Data Inicial:</label>
                        <input type="date" id="start-date" value="<?php echo date('Y-m-01'); ?>">
                    </div>
                    <div class="filter-group">
                        <label for="end-date">Data Final:</label>
                        <input type="date" id="end-date" value="<?php echo date('Y-m-d'); ?>">
                    </div>
                    <div class="filter-group">
                        <label for="report-type">Tipo de Relat√≥rio:</label>
                        <select id="report-type">
                            <option value="general">Geral</option>
                            <option value="detailed">Detalhado</option>
                            <option value="laboratory">Por Laborat√≥rio</option>
                            <option value="federation">Por Federa√ß√£o</option>
                        </select>
                    </div>
                    <div class="filter-actions">
                        <button id="generate-report" class="btn btn-primary" onclick="system.generateReport()">
                            <span>üìä Gerar Relat√≥rio</span>
                        </button>
                        <button id="export-csv" class="btn btn-secondary" onclick="system.exportCSV()">
                            <span>üì• Exportar CSV</span>
                        </button>
                    </div>
                </div>
                
                <div id="report-results" class="report-results">
                    <div class="empty-state">
                        <div class="empty-icon">üìà</div>
                        <h3>Nenhum relat√≥rio gerado</h3>
                        <p>Configure os filtros e clique em "Gerar Relat√≥rio" para visualizar os dados.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal para Novo Atleta -->
    <div id="athlete-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üë§ Cadastrar Novo Atleta</h3>
                <span class="close" onclick="system.hideAthleteModal()">&times;</span>
            </div>
            <form id="athlete-form" onsubmit="system.createAthlete(event)">
                <div class="form-group">
                    <label for="name">Nome Completo *</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="cpf">CPF *</label>
                    <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="birth_date">Data de Nascimento *</label>
                        <input type="date" id="birth_date" name="birth_date" required>
                    </div>
                    <div class="form-group">
                        <label for="sport">Esporte *</label>
                        <input type="text" id="sport" name="sport" placeholder="Futebol" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="federation">Federa√ß√£o *</label>
                        <input type="text" id="federation" name="federation" placeholder="Federa√ß√£o Paulista" required>
                    </div>
                    <div class="form-group">
                        <label for="club">Clube *</label>
                        <input type="text" id="club" name="club" placeholder="S√£o Paulo FC" required>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="system.hideAthleteModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Cadastrar Atleta</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para Novo Teste -->
    <div id="test-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üß™ Registrar Novo Teste</h3>
                <span class="close" onclick="system.hideTestModal()">&times;</span>
            </div>
            <form id="test-form" onsubmit="system.registerTest(event)">
                <div class="form-group">
                    <label for="athlete_id">Atleta *</label>
                    <select id="athlete_id" name="athlete_id" required>
                        <option value="">Selecione um atleta...</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="test_type">Tipo de Teste *</label>
                        <select id="test_type" name="test_type" required>
                            <option value="">Selecione...</option>
                            <option value="blood">Sangue</option>
                            <option value="urine">Urina</option>
                            <option value="both">Ambos</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="test_date">Data do Teste *</label>
                        <input type="date" id="test_date" name="test_date" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="laboratory_id">Laborat√≥rio *</label>
                    <select id="laboratory_id" name="laboratory_id" required>
                        <option value="">Selecione um laborat√≥rio...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="collection_officer">Respons√°vel pela Coleta *</label>
                    <input type="text" id="collection_officer" name="collection_officer" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="system.hideTestModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Registrar Teste</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loading" class="loading-overlay">
        <div class="spinner"></div>
        <p>Carregando...</p>
    </div>

    <script src="js/app.js"></script>
</body>
</html>